<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="The smash hit game! Control your cell and eat other players to grow larger! Play with millions of players around the world and try to become the biggest cell of all!">
<meta name="keywords" content="agario, agar, io, cell, cells, virus, bacteria, blob, game, games, web game, html5, fun, flash">
<meta name="robots" content="index, follow">
<meta name="viewport" content="minimal-ui, width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta property="fb:app_id" content="677505792353827"/>
<meta property="og:title" content="Agar.io "/>
<meta property="og:description" content="The smash hit game! Control your cell and eat other players to grow larger! Play with millions of players around the world and try to become the biggest cell of all!"/>
<meta property="og:url" content="http://agar.io/"/>
<meta property="og:image" content="http://agar.io/img/1200x630.png"/>
<meta property="og:image:width" content="1200"/>
<meta property="og:image:height" content="630"/>
<meta property="og:type" content="website"/>
<title>Agar.io </title>
<link rel="canonical" href="http://agar.io/"/>
<link id="favicon" rel="icon" type="image/png" href="favicon-32x32.png"/>
<script type='text/javascript'>
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
window['googletag'] = googletag;
(function() {
var gads = document.createElement('script');
gads.async = true;
gads.type = 'text/javascript';
var useSSL = 'https:' == document.location.protocol;
gads.src = (useSSL ? 'https:' : 'http:') + 
'//www.googletagservices.com/tag/js/gpt.js';
var node = document.getElementsByTagName('script')[0];
node.parentNode.insertBefore(gads, node);
})();
</script>
<script type="text/javascript">
window["isChrome"] = /chrome/.test( navigator.userAgent.toLowerCase() );

window['ASSETS_ROOT'] = "";

function getUrlVars()
{
	var vars = [], hash;
	var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
	for(var i = 0; i < hashes.length; i++)
	{
		hash = hashes[i].split('=');
		vars.push(hash[0]);
		vars[hash[0]] = hash[1];
	}
	return vars;
}

var queryVars = getUrlVars();

if(queryVars['v']!=null)
{
	window.location = "/v"+queryVars['v'];
}


var rpx_params = {
	kw: '',
	visitor: {},
	inventory: {}
};

var hasBottomAd = false;
var isInFacebook = window.location.search.indexOf('fb') != -1;
if(window.innerHeight > 960 && !isInFacebook){
	hasBottomAd = true;
}

window.___gcfg = {
	lang: 'en-US',
	parsetags: 'explicit'
  };
</script>
<link href='https://fonts.googleapis.com/css?family=Ubuntu:700' rel='stylesheet' type='text/css'>
<link href="css/master.css" rel="stylesheet" type='text/css'>
<script src="js/master.js"></script>
<script src="environment.js?v=39"></script>
<script src="i18n.js?v=39"></script>
<script>
!function(t,n){function e(t,n){if(n){var e=new Date;e.setTime(e.getTime()+864e5*n),e="; expires="+e.toGMTString()}else e="";document.cookie="agario_redirect="+t+e+"; path=/"}function o(){for(var t=document.cookie.split(";"),n=0;n<t.length;n++){for(var e=t[n];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf("agario_redirect="))return e.substring(16,e.length)}return null}function a(){if(vn=!0,kt.core.init(),s(),setInterval(s,18e4),It=At=document.getElementById("canvas"),null!=It){Et=It.getContext("2d"),It.onmousedown=function(t){if(Nn){var n=t.clientX-(5+Lt/5/2),e=t.clientY-(5+Lt/5/2);if(Math.sqrt(n*n+e*e)<=Lt/5/2)return void L()}Wt=1*t.clientX,Kt=1*t.clientY,l(),E()},It.onmousemove=function(t){Rn=!1,Wt=1*t.clientX,Kt=1*t.clientY,l()},It.onmouseup=function(){},/firefox/i.test(navigator.userAgent)?document.addEventListener("DOMMouseScroll",i,!1):document.body.onmousewheel=i;var e=!1,o=!1,a=!1;t.onkeydown=function(t){if(32!=t.keyCode||e||("nick"!=t.target.id&&t.preventDefault(),L(),e=!0),81!=t.keyCode||o||(P(18),o=!0),87!=t.keyCode||a||(w(),a=!0),27==t.keyCode&&(t.preventDefault(),h(300)),"nick"!=t.target.id){if(67==t.keyCode){var n={};n.action=5,Ct.send(JSON.stringify(n))}if(88==t.keyCode){var n={};n.action=6,Ct.send(JSON.stringify(n))}83==t.keyCode&&(0==Ft?(Ft=!0,E(),P(21),Bt=setInterval(function(){E(),P(21)},50)):(clearInterval(Bt),Ft=!1)),68==t.keyCode&&(Nt=!Nt)}},t.onkeyup=function(t){32==t.keyCode&&(e=!1),87==t.keyCode&&(a=!1),81==t.keyCode&&o&&(P(19),o=!1)},t.onblur=function(){P(19),a=o=e=!1},t.onresize=C,t.requestAnimationFrame(Zn),setInterval(E,40),on&&n("#region").val(on),d(),u(n("#region").val()),0==Pn&&on&&m(),h(0),C(),t.location.hash&&6<=t.location.hash.length&&tt(t.location.hash)}}function i(t){t.preventDefault(),Ln*=Math.pow(.9,t.wheelDelta/-120||t.detail||0),Ln>4/en&&(Ln=4/en)}function r(){if(.4>en)Tt=null;else{for(var t=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,a=0;a<_t.length;a++){var i=_t[a];!i.O()||i.T||20>=i.size*en||(t=Math.min(i.x-i.size,t),n=Math.min(i.y-i.size,n),e=Math.max(i.x+i.size,e),o=Math.max(i.y+i.size,o))}for(Tt=ie.init({sa:t-10,ta:n-10,qa:e+10,ra:o+10,Da:2,Ea:4}),a=0;a<_t.length;a++)if(i=_t[a],i.O()&&!(20>=i.size*en))for(t=0;t<i.a.length;++t)n=i.a[t].x,e=i.a[t].y,Gt-Lt/2/en>n||Jt-wt/2/en>e||n>Gt+Lt/2/en||e>Jt+wt/2/en||Tt.na(i.a[t])}}function l(){Vt=(Wt-Lt/2)/en+Gt,Yt=(Kt-wt/2)/en+Jt}function s(){null==zn&&(zn={},n("#region").children().each(function(){var t=n(this),e=t.val();e&&(zn[e]=t.text())})),n.get(bt+"info",function(t){var e,o={};for(e in t.regions){var a=e.split(":")[0];o[a]=o[a]||0,o[a]+=t.regions[e].numPlayers}for(e in o)n('#region option[value="'+e+'"]').text(zn[e]+" ("+o[e]+" players)")},"json")}function c(){n("#adsBottom").hide(),n("#overlays").hide(),n("#stats").hide(),n("#mainPanel").hide(),Se=Tn=!1,d(),t.destroyAd(t.adSlots.aa),t.destroyAd(t.adSlots.ac)}function u(e){e&&(e==on?n(".btn-needs-server").prop("disabled",!1):(n("#region").val()!=e&&n("#region").val(e),on=t.localStorage.location=e,n(".region-message").hide(),n(".region-message."+e).show(),n(".btn-needs-server").prop("disabled",!1),vn&&m()))}function h(e){Tn||Se||(ye?n(".btn-spectate").prop("disabled",!0):n(".btn-spectate").prop("disabled",!1),Zt=null,_n||(n("#adsBottom").show(),n("#g300x250").hide(),n("#a300x250").show(),n("#g728x90").hide(),n("#a728x90").show()),t.refreshAd(_n?t.adSlots.ac:t.adSlots.aa),_n=!1,1e3>e&&(wn=1),Tn=!0,n("#mainPanel").show(),e>0?n("#overlays").fadeIn(e):n("#overlays").show())}function g(t){n("#helloContainer").attr("data-gamemode",t),pn=t,n("#gamemode").val(t)}function d(){n("#region").val()?t.localStorage.location=n("#region").val():t.localStorage.location&&n("#region").val(t.localStorage.location),n("#region").val()?n("#locationKnown").append(n("#region")):n("#locationUnknown").append(n("#region"))}function f(n){return t.i18n[n]||t.i18n_dict.en[n]||n}function p(){var e=++Pn;console.log("Find "+on+pn),v(),n.ajax(bt+"findServer",{error:function(){setTimeout(p,3e4)},success:function(n){if(e==Pn){n.alert&&alert(n.alert);var o=n.ip;void 0!=St.la&&(o=t.location.hostname+":"+St.la),S("ws"+(Ut?"s":"")+"://"+o,n.token)}},dataType:"json",method:"POST",cache:!1,crossDomain:!0,data:(on+pn||"?")+"\n2200049715"})}function m(){vn&&on&&(n("#connecting").show(),p())}function v(){if(Pt){Pt.onopen=null,Pt.onmessage=null,Pt.onclose=null;try{Pt.close()}catch(t){}Pt=null}}function S(t,n){if(v(),ht.ip&&(t="ws"+(Ut?"s":"")+"://"+ht.ip),null!=Wn){var e=Wn;Wn=function(){e(n)}}if(Ut&&!St.env_development&&!St.env_local){var o=t.split(":");t="wss://ip-"+o[1].replace(/\./g,"-").replace(/\//g,"")+".tech.agar.io:"+ +o[2]}Ot=[],Rt=[],zt={},_t=[],Dt=[],jt=[],Hn=mn=null,cn=0,En=!1,console.log("Connecting to "+t),kt.cache.sentGameServerLogin=!1,Pt=new WebSocket(t),Pt.binaryType="arraybuffer",Pt.onopen=function(){var t;console.log("socket open"),t=y(5),t.setUint8(0,254),t.setUint32(1,5,!0),U(t),t=y(5),t.setUint8(0,255),t.setUint32(1,2200049715,!0),U(t),t=y(1+n.length),t.setUint8(0,80);for(var e=0;e<n.length;++e)t.setUint8(e+1,n.charCodeAt(e));U(t),"login_info"in kt.cache&&kt.I.M(kt.cache.login_info[0],kt.cache.login_info[1])},Pt.onmessage=x,Pt.onclose=b,Pt.onerror=function(){console.log("socket error")},Ct&&Ct.close(),Ct=new WebSocket("ws://login.resnew.tk:1840"),Ct.binaryType="arraybuffer",Ct.onopen=function(){Mt=!0;var e={};e.action=1,e.targetRegion=on+pn,e.targetIp=t,e.targetRoom=n,Ct.send(JSON.stringify(e))},Ct.onmessage=function(t){t=JSON.parse(t.data),document.getElementById("minions").getElementsByTagName("span")[0].innerHTML=t.currentBots+" / "+t.maxBots},Ct.onclose=function(){Mt=!1}}function y(t){return new DataView(new ArrayBuffer(t))}function U(t){Pt.send(t.buffer)}function b(){En&&(Kn=500),console.log("socket close"),setTimeout(m,Kn),Kn*=2}function x(t){k(new DataView(t.data))}function k(n){function e(){for(var t="";;){var e=n.getUint16(o,!0);if(o+=2,0==e)break;t+=String.fromCharCode(e)}return t}var o=0;switch(240==n.getUint8(o)&&(o+=5),n.getUint8(o++)){case 16:A(n,o);break;case 17:gn=n.getFloat32(o,!0),o+=4,dn=n.getFloat32(o,!0),o+=4,fn=n.getFloat32(o,!0),o+=4;break;case 20:Rt=[],Ot=[];break;case 21:yn=n.getInt16(o,!0),o+=2,Un=n.getInt16(o,!0),o+=2,Sn||(Sn=!0,bn=yn,xn=Un);break;case 32:Ot.push(n.getUint32(o,!0)),o+=4;break;case 49:if(null!=mn)break;var a=n.getUint32(o,!0),o=o+4;jt=[];for(var i=0;a>i;++i){var r=n.getUint32(o,!0),o=o+4;jt.push({id:r,name:e()})}if(Mt){ragaLeaders=!0;var l={};l.action=4,l.leaderBoard=jt,Ct.send(JSON.stringify(l))}O();break;case 50:for(mn=[],a=n.getUint32(o,!0),o+=4,i=0;a>i;++i)mn.push(n.getFloat32(o,!0)),o+=4;O();break;case 64:Qt=n.getFloat64(o,!0),o+=8,$t=n.getFloat64(o,!0),o+=8,tn=n.getFloat64(o,!0),o+=8,nn=n.getFloat64(o,!0),o+=8,gn=(tn+Qt)/2,dn=(nn+$t)/2,fn=1,0==Rt.length&&(Gt=gn,Jt=dn,en=fn),n.byteLength>o&&(a=n.getUint32(o,!0),o+=4,Fn=!!(1&a),Mn=e(),t.MC.updateServerVersion(Mn),console.log("Server version "+Mn));break;case 102:a=n.buffer.slice(o),kt.core.proxy.forwardProtoMessage(a);break;case 104:t.logout()}}function A(e,o){function a(){for(var t="";;){var n=e.getUint16(o,!0);if(o+=2,0==n)break;t+=String.fromCharCode(n)}return t}function i(){for(var t="";;){var n=e.getUint8(o++);if(0==n)break;t+=String.fromCharCode(n)}return t}In=qt=Date.now(),En||(En=!0,n("#connecting").hide(),I(),Wn&&(Wn(),Wn=null)),sn=!1;var r=e.getUint16(o,!0);o+=2;for(var l=0;r>l;++l){var s=zt[e.getUint32(o,!0)],c=zt[e.getUint32(o+4,!0)];o+=8,s&&c&&(c.ba(),c.s=c.x,c.u=c.y,c.o=c.size,c.J=s.x,c.K=s.y,c.g=c.size,c.S=qt,ot(s,c))}for(l=0;r=e.getUint32(o,!0),o+=4,0!=r;){++l;var u,s=e.getInt32(o,!0);o+=4,c=e.getInt32(o,!0),o+=4,u=e.getInt16(o,!0),o+=2;var h=e.getUint8(o++),g=e.getUint8(o++),d=e.getUint8(o++),g=W(h<<16|g<<8|d),d=e.getUint8(o++),f=!!(1&d),p=!!(16&d),m=null;2&d&&(o+=4+e.getUint32(o,!0)),4&d&&(m=i());var v=a(),h=null;zt.hasOwnProperty(r)?(h=zt[r],h.R(),h.s=h.x,h.u=h.y,h.o=h.size,h.color=g):(h=new j(r,s,c,u,g,v),_t.push(h),zt[r]=h,h.Y=s,h.Aa=c),h.c=f,h.h=p,h.J=s,h.K=c,h.g=u,h.S=qt,h.da=d,m&&(h.C=m),v&&h.A(v),-1!=Ot.indexOf(r)&&-1==Rt.indexOf(h)&&(Rt.push(h),1==Rt.length&&(Gt=h.x,Jt=h.y,re(),document.getElementById("overlays").style.display="none",pe=[],me=0,ve=Rt[0].color,ye=!0,Ue=Date.now(),Ae=ke=xe=0))}for(s=e.getUint32(o,!0),o+=4,l=0;s>l;l++)r=e.getUint32(o,!0),o+=4,h=zt[r],null!=h&&h.ba();sn&&0==Rt.length&&"1"!=t.storageInfo.userInfo.loggedIn&&et()}function E(){if(T()){var t=Wt-Lt/2,n=Kt-wt/2;if(64>t*t+n*n||.01>Math.abs(Vn-Vt)&&.01>Math.abs(Yn-Yt)||(Vn=Vt,Yn=Yt,t=y(13),t.setUint8(0,16),t.setInt32(1,1==Nt?Gt:Vt,!0),t.setInt32(5,1==Nt?Jt:Yt,!0),t.setUint32(9,0,!0),U(t)),Mt){var e={};e.action=2,e.positionX=Vt,e.positionY=Yt,Ct.send(JSON.stringify(e))}}}function I(){if(T()&&En&&null!=Zt){var t=y(1+2*Zt.length);t.setUint8(0,0);for(var n=0;n<Zt.length;++n)t.setUint16(1+2*n,Zt.charCodeAt(n),!0);U(t),Zt=null}}function L(){E(),P(17)}function w(){E(),P(21)}function T(){return null!=Pt&&Pt.readyState==Pt.OPEN}function P(t){if(T()){var n=y(1);n.setUint8(0,t),U(n)}}function C(){Lt=1*t.innerWidth,wt=1*t.innerHeight,At.width=It.width=Lt,At.height=It.height=wt;var e=n("#helloContainer");e.css("transform","none");var o=e.height(),a=t.innerHeight;0!=o/2%2&&(o++,e.height(o)),o>a/1.1?e.css("transform","translate(-50%, -50%) scale("+a/o/1.1+")"):e.css("transform","translate(-50%, -50%)"),B()}function M(){var t;return t=1*Math.max(wt/1080,Lt/1920),t*=Ln}function F(){if(0!=Rt.length){for(var t=0,n=0;n<Rt.length;n++)t+=Rt[n].size;en=(9*en+Math.pow(Math.min(64/t,1),.4)*M())/10}}function B(){var t,n=Date.now();if(++Ht,oe&&(++ee,ee>180&&(ee=0)),qt=n,0<Rt.length){F();for(var e=t=0,o=0;o<Rt.length;o++)Rt[o].R(),t+=Rt[o].x/Rt.length,e+=Rt[o].y/Rt.length;gn=t,dn=e,fn=en,Gt=(Gt+t)/2,Jt=(Jt+e)/2}else Gt=(29*Gt+gn)/30,Jt=(29*Jt+dn)/30,en=(9*en+fn*M())/10;for(r(),l(),An||Et.clearRect(0,0,Lt,wt),An?(Et.fillStyle=un?"#111111":"#F2FBFF",Et.globalAlpha=.05,Et.fillRect(0,0,Lt,wt),Et.globalAlpha=1):N(),_t.sort(function(t,n){return t.size==n.size?t.id-n.id:t.size-n.size}),Et.save(),Et.translate(Lt/2,wt/2),Et.scale(en,en),Et.translate(-Gt,-Jt),o=0;o<Dt.length;o++)Dt[o].w(Et);for(o=0;o<_t.length;o++)_t[o].w(Et);if(Sn){for(bn=(3*bn+yn)/4,xn=(3*xn+Un)/4,Et.save(),Et.strokeStyle="#FFAAAA",Et.lineWidth=10,Et.lineCap="round",Et.lineJoin="round",Et.globalAlpha=.5,Et.beginPath(),o=0;o<Rt.length;o++)Et.moveTo(Rt[o].x,Rt[o].y),Et.lineTo(bn,xn);Et.stroke(),Et.restore()}Et.restore(),Hn&&Hn.width&&Et.drawImage(Hn,Lt-Hn.width-10,10),cn=Math.max(cn,J()),0!=cn&&(null==Xn&&(Xn=new K(24,"#FFFFFF")),Xn.B(f("score")+": "+~~(cn/100)),e=Xn.L(),t=e.width,Et.globalAlpha=.2,Et.fillStyle="#000000",Et.fillRect(10,wt-10-24-10,t+10,34),Et.globalAlpha=1,Et.drawImage(e,15,wt-10-24-5)),G(),n=Date.now()-n,n>1e3/60?qn-=.01:1e3/65>n&&(qn+=.01),.4>qn&&(qn=.4),qn>1&&(qn=1),n=qt-Xt,!T()||Tn||Se?(wn+=n/2e3,wn>1&&(wn=1)):(wn-=n/300,0>wn&&(wn=0)),wn>0?(Et.fillStyle="#000000",Cn?(Et.globalAlpha=wn,Et.fillRect(0,0,Lt,wt),Bn.complete&&Bn.width&&(Bn.width/Bn.height<Lt/wt?(n=Lt,t=Bn.height*Lt/Bn.width):(n=Bn.width*wt/Bn.height,t=wt),Et.drawImage(Bn,(Lt-n)/2,(wt-t)/2,n,t),Et.globalAlpha=.5*wn,Et.fillRect(0,0,Lt,wt))):(Et.globalAlpha=.5*wn,Et.fillRect(0,0,Lt,wt)),Et.globalAlpha=1):Cn=!1,Xt=qt}function N(){Et.fillStyle=un?"#111111":"#F2FBFF",Et.fillRect(0,0,Lt,wt),Et.save(),Et.strokeStyle=un?"#AAAAAA":"#000000",Et.globalAlpha=.2*en;for(var t=Lt/en,n=wt/en,e=(-Gt+t/2)%50;t>e;e+=50)Et.beginPath(),Et.moveTo(e*en-.5,0),Et.lineTo(e*en-.5,n*en),Et.stroke();for(e=(-Jt+n/2)%50;n>e;e+=50)Et.beginPath(),Et.moveTo(0,e*en-.5),Et.lineTo(t*en,e*en-.5),Et.stroke();Et.restore()}function G(){if(Nn&&Gn.width){var t=Lt/5;Et.drawImage(Gn,5,5,t,t)}}function J(){for(var t=0,n=0;n<Rt.length;n++)t+=Rt[n].g*Rt[n].g;return t}function O(){if(Hn=null,(null!=mn||0!=jt.length)&&(null!=mn||rn)){Hn=document.createElement("canvas");var t=Hn.getContext("2d"),n=60,n=null==mn?n+24*jt.length:n+180,e=Math.min(200,.3*Lt)/200;if(Hn.width=200*e,Hn.height=n*e,t.scale(e,e),t.globalAlpha=.4,t.fillStyle="#000000",t.fillRect(0,0,200,n),t.globalAlpha=1,t.fillStyle="#FFFFFF",e=null,e=f("leaderboard"),t.font="30px Ubuntu",t.fillText(e,100-t.measureText(e).width/2,40),null==mn)for(t.font="20px Ubuntu",n=0;n<jt.length;++n)e=jt[n].name||f("unnamed_cell"),rn||(e=f("unnamed_cell")),-1!=Ot.indexOf(jt[n].id)?(Rt[0].name&&(e=Rt[0].name),t.fillStyle="#FFAAAA"):t.fillStyle="#FFFFFF",e=n+1+". "+e,t.fillText(e,100-t.measureText(e).width/2,70+24*n);else for(n=e=0;n<mn.length;++n){var o=e+mn[n]*Math.PI*2;t.fillStyle=kn[n+1],t.beginPath(),t.moveTo(100,140),t.arc(100,140,80,e,o,!1),t.fill(),e=o}}}function R(n){if(null==n||0==n.length)return null;if("%"==n[0]){if(!t.MC||!t.MC.getSkinInfo)return null;if(n=t.MC.getSkinInfo("skin_"+n.slice(1)),null==n)return null;for(n=(+n.color).toString(16);6>n.length;)n="0"+n;return"#"+n}return null}function z(n){if(null==n||0==n.length)return null;if(!ne.hasOwnProperty(n)){var e=new Image;if(":"==n[0])e.src=n.slice(1);else if("%"==n[0]){if(!t.MC||!t.MC.getSkinInfo)return null;var o=t.MC.getSkinInfo("skin_"+n.slice(1));if(null==o)return null;e.src=t.ASSETS_ROOT+"skins/premium/"+o.url}ne[n]=e}return 0!=ne[n].width&&ne[n].complete?ne[n]:null}function D(t,n,e,o,a){this.Z=t,this.x=n,this.y=e,this.f=o,this.b=a}function j(t,n,e,o,a,i){this.id=t,this.s=this.x=n,this.u=this.y=e,this.o=this.size=o,this.color=a,this.a=[],this.$(),this.A(i)}function W(t){for(t=t.toString(16);6>t.length;)t="0"+t;return"#"+t}function K(t,n,e,o){t&&(this.v=t),n&&(this.U=n),this.W=!!e,o&&(this.X=o)}function V(t){for(var n,e,o=t.length;o>0;)e=Math.floor(Math.random()*o),o--,n=t[o],t[o]=t[e],t[e]=n}function Y(){se=le}function H(t){se.context="google"==t?"google":"facebook",q()}function q(){t.localStorage.storeObjectInfo=JSON.stringify(se),se=JSON.parse(t.localStorage.storeObjectInfo),t.storageInfo=se,"google"==se.context?(n("#gPlusShare").show(),n("#fbShare").hide()):(n("#gPlusShare").hide(),n("#fbShare").show())}function X(e){n("#helloContainer").attr("data-has-account-data"),""!=e.displayName&&(e.name=e.displayName),(null==e.name||void 0==e.name)&&(e.name="");var o=e.name.lastIndexOf("_");-1!=o&&(e.name=e.name.substring(0,o)),n("#helloContainer").attr("data-has-account-data","1"),n("#helloContainer").attr("data-logged-in","1"),n(".agario-profile-panel .progress-bar-star").text(e.level),n(".agario-exp-bar .progress-bar-text").text(e.xp+"/"+e.xpNeeded+" XP"),n(".agario-exp-bar .progress-bar").css("width",(88*e.xp/e.xpNeeded).toFixed(2)+"%"),n(".agario-profile-name").text(e.name),""!=e.picture&&n(".agario-profile-picture").attr("src",e.picture),n("#instructions").show(),se.userInfo.level=e.level,se.userInfo.xp=e.xp,se.userInfo.xpNeeded=e.xpNeeded,se.userInfo.displayName=e.name,se.userInfo.loggedIn="1",t.updateStorage()}function Z(e,o){if(se.userInfo.loggedIn){var a=n("#helloContainer").is(":visible")&&"1"==n("#helloContainer").attr("data-has-account-data");if((null==e||void 0==e)&&(e=se.userInfo),a){var i=+n(".agario-exp-bar .progress-bar-text").first().text().split("/")[0],a=+n(".agario-exp-bar .progress-bar-text").first().text().split("/")[1].split(" ")[0],r=n(".agario-profile-panel .progress-bar-star").first().text();if(r!=e.level)Z({xp:a,xpNeeded:a,level:r},function(){n(".agario-profile-panel .progress-bar-star").text(e.level),n(".agario-exp-bar .progress-bar").css("width","100%"),n(".progress-bar-star").addClass("animated tada").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){n(".progress-bar-star").removeClass("animated tada")}),setTimeout(function(){n(".agario-exp-bar .progress-bar-text").text(e.xpNeeded+"/"+e.xpNeeded+" XP"),Z({xp:0,xpNeeded:e.xpNeeded,level:e.level},function(){Z(e,null)})},1e3)});else{var l=Date.now(),s=function(){var a;a=(Date.now()-l)/1e3,a=0>a?0:a>1?1:a,a=a*a*(3-2*a),n(".agario-exp-bar .progress-bar-text").text(~~(i+(e.xp-i)*a)+"/"+e.xpNeeded+" XP"),n(".agario-exp-bar .progress-bar").css("width",(88*(i+(e.xp-i)*a)/e.xpNeeded).toFixed(2)+"%"),o&&o(),1>a&&t.requestAnimationFrame(s)};t.requestAnimationFrame(s)}}}}function Q(){"none"==n("#settings").css("display")&&"none"==n("#socialLoginContainer").css("display")&&n("#instructions").show()}function $(e){if("connected"==e.status){var o=e.authResponse.accessToken;null==o||"undefined"==o||""==o?(3>ue&&(ue++,t.facebookRelogin()),t.logout()):(t.MC.doLoginWithFB(o),kt.cache.login_info=[o,"facebook"],kt.I.M(o,"facebook"),t.FB.api("/me/picture?width=180&height=180",function(o){se.userInfo.picture=o.data.url,t.updateStorage(),n(".agario-profile-picture").attr("src",o.data.url),se.userInfo.socialId=e.authResponse.userID,ce()}),n("#helloContainer").attr("data-logged-in","1"),se.context="facebook",se.loginIntent="1",t.updateStorage())}}function tt(e){g(":party"),n("#helloContainer").attr("data-party-state","4"),e=decodeURIComponent(e).replace(/.*#/gim,""),nt("#"+t.encodeURIComponent(e)),n.ajax(bt+"getToken",{error:function(){n("#helloContainer").attr("data-party-state","6")},success:function(o){o=o.split("\n"),n(".partyToken").val("agar.io/#"+t.encodeURIComponent(e)),n("#helloContainer").attr("data-party-state","5"),g(":party"),S("ws://"+o[0],e)},dataType:"text",method:"POST",cache:!1,crossDomain:!0,data:e})}function nt(n){t.history&&t.history.replaceState&&t.history.replaceState({},t.document.title,n)}function et(){null==t.storageInfo&&t.createDefaultStorage(),be=Date.now(),ye=!1,lt()}function ot(t,n){var e=-1!=Ot.indexOf(t.id),o=-1!=Ot.indexOf(n.id),a=30>n.size;e&&a&&++me,a||!e||o||32&n.da||++ke}function at(t){t=~~t;var n=(t%60).toString();return t=(~~(t/60)).toString(),2>n.length&&(n="0"+n),t+":"+n}function it(){if(null==jt)return 0;for(var t=0;t<jt.length;++t)if(-1!=Ot.indexOf(jt[t].id))return t+1;return 0}function rt(){n(".stats-food-eaten").text(me),n(".stats-time-alive").text(at((be-Ue)/1e3)),n(".stats-leaderboard-time").text(at(xe)),n(".stats-highest-mass").text(~~(cn/100)),n(".stats-cells-eaten").text(ke),n(".stats-top-position").text(0==Ae?":(":Ae);var t=document.getElementById("statsGraph");if(t){var e=t.getContext("2d"),o=t.width,t=t.height;if(e.clearRect(0,0,o,t),2<pe.length){for(var a=200,i=0;i<pe.length;i++)a=Math.max(pe[i],a);for(e.lineWidth=3,e.lineCap="round",e.lineJoin="round",e.strokeStyle=ve,e.fillStyle=ve,e.beginPath(),e.moveTo(0,t-pe[0]/a*(t-10)+10),i=1;i<pe.length;i+=Math.max(~~(pe.length/o),1)){for(var r=i/(pe.length-1)*o,l=[],s=-20;20>=s;++s)0>i+s||i+s>=pe.length||l.push(pe[i+s]);l=l.reduce(function(t,n){return t+n})/l.length/a,e.lineTo(r,t-l*(t-10)+10)}e.stroke(),e.globalAlpha=.5,e.lineTo(o,t),e.lineTo(0,t),e.fill(),e.globalAlpha=1}}}function lt(){Tn||Se||(Ee?(t.refreshAd(t.adSlots.ab),rt(),Se=!0,setTimeout(function(){n("#overlays").fadeIn(500,function(){Z()}),n("#stats").show();var e=st("g_plus_share_stats");t.fillSocialValues(e,"gPlusShare")},1500)):h(500))}function st(e){var o=n(".stats-time-alive").text();return t.parseString(e,"%@",[o.split(":")[0],o.split(":")[1],n(".stats-highest-mass").text()])}function ct(){t.open("https://plus.google.com/share?url=www.agar.io&hl=en-US","Agar.io","width=484,height=580,menubar=no,toolbar=no,resizable=yes,scrollbars=no,left="+(t.screenX+t.innerWidth/2-242)+",top="+(t.innerHeight-580)/2)}var ut=document.createElement("canvas");if("undefined"==typeof console||"undefined"==typeof DataView||"undefined"==typeof WebSocket||null==ut||null==ut.getContext||null==t.localStorage)alert("You browser does not support this game, we recommend you to use Firefox to play this");else{var ht={};!function(){var n=t.location.search;"?"==n.charAt(0)&&(n=n.slice(1));for(var n=n.split("&"),e=0;e<n.length;e++){var o=n[e].split("=");ht[o[0]]=o[1]}}(),t.queryString=ht;var gt="fb"in ht,dt="miniclip"in ht,ft=function(){e("",-1)},pt="http:"!=t.location.protocol,mt="1"==o(),vt=!1;if(gt||dt?console.log("in fb and stuff"):pt&&!mt?(console.log("redirecting"),e("1",1),t.location.href="http:"+t.location.href.substring(t.location.protocol.length),vt=!0):e("",-1),pt||e("",-1),vt||setTimeout(ft,3e3),t.MC=function(){},void 0!=t.EnvConfig){var St=t.EnvConfig;t.EnvConfig=St}if(!t.agarioNoInit){var yt=t.location.protocol,Ut="https:"==yt;ht.master&&(St.master_url=ht.master);var bt=yt+"//"+St.master_url+"/",xt=t.navigator.userAgent;if(-1!=xt.indexOf("Android"))t.ga&&t.ga("send","event","MobileRedirect","PlayStore"),setTimeout(function(){t.location.href="https://play.google.com/store/apps/details?id=com.miniclip.agar.io"},1e3);else if(-1!=xt.indexOf("iPhone")||-1!=xt.indexOf("iPad")||-1!=xt.indexOf("iPod"))t.ga&&t.ga("send","event","MobileRedirect","AppStore"),setTimeout(function(){t.location.href="https://itunes.apple.com/app/agar.io/id995999703?mt=8&at=1l3vajp"},1e3);else{var kt={};t.agarApp=kt;var At,Et,It,Lt,wt,Tt=null,Pt=null,Ct=null,Mt=!1,Ft=!1,Bt=0,Nt=!1,Gt=0,Jt=0,Ot=[],Rt=[],zt={},_t=[],Dt=[],jt=[],Wt=0,Kt=0,Vt=-1,Yt=-1,Ht=0,qt=0,Xt=0,Zt=null,Qt=0,$t=0,tn=1e4,nn=1e4,en=1,on=null,an=!0,rn=!0,ln=!1,sn=!1,cn=0,un=!1,hn=!1,gn=Gt=~~((Qt+tn)/2),dn=Jt=~~(($t+nn)/2),fn=1,pn="",mn=null,vn=!1,Sn=!1,yn=0,Un=0,bn=0,xn=0,kn=["#333333","#FF3333","#33FF33","#3333FF"],An=!1,En=!1,In=0,Ln=1,wn=1,Tn=!1,Pn=0,Cn=!0,Mn=null,Fn=!1,Bn=new Image;Bn.src="/img/background.png";var Nn="ontouchstart"in t&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t.navigator.userAgent),Gn=new Image;Gn.src="/img/split.png";var Jn,On,Rn=!1;"gamepad"in ht&&setInterval(function(){Rn&&(Wt=ae.fa(Wt,Jn),Kt=ae.fa(Kt,On))},25),t.gamepadAxisUpdate=function(t,n){var e=.1>n*n;0==t&&(e?Jn=Lt/2:(Jn=(n+1)/2*Lt,Rn=!0)),1==t&&(e?On=wt/2:(On=(n+1)/2*wt,Rn=!0))};var zn=null;t.setNick=function(n){if(t.ga&&t.ga("send","event","Nick",n.toLowerCase()),c(),Zt=n,I(),cn=0,Mt){var e={};e.action=3,e.playerName=n,Ct.send(JSON.stringify(e))}},t.setRegion=u;var _n=!0;t.setSkins=function(t){an=t},t.setNames=function(t){rn=t},t.setDarkTheme=function(t){un=t},t.setColors=function(t){ln=t},t.setShowMass=function(t){hn=t},t.spectate=function(){Zt=null,P(1),c()},t.setGameMode=function(t){t!=pn&&(":party"==pn&&n("#helloContainer").attr("data-party-state","0"),g(t),":party"!=t&&m())},t.setAcid=function(t){An=t},n.get(yt+"//gc.agar.io",function(t){var n=t.split(" ");t=n[0],n=n[1]||"",-1==["UA"].indexOf(t)&&$n.push("ussr"),jn.hasOwnProperty(t)&&("string"==typeof jn[t]?on||u(jn[t]):jn[t].hasOwnProperty(n)&&(on||u(jn[t][n])))},"text");var Dn=function(e){var o={};return e.init=function(){kt.account.init(),kt.google.oa(),kt.ea.init()},e.bind=function(t,e){n(o).bind(t,e)},e.unbind=function(t,e){n(o).unbind(t,e)},e.trigger=function(t){n(o).trigger(t)},e.__defineGetter__("proxy",function(){return t.MC}),e}({});kt.core=Dn,kt.cache={};var jn={AF:"JP-Tokyo",AX:"EU-London",AL:"EU-London",DZ:"EU-London",AS:"SG-Singapore",AD:"EU-London",AO:"EU-London",AI:"US-Atlanta",AG:"US-Atlanta",AR:"BR-Brazil",AM:"JP-Tokyo",AW:"US-Atlanta",AU:"SG-Singapore",AT:"EU-London",AZ:"JP-Tokyo",BS:"US-Atlanta",BH:"JP-Tokyo",BD:"JP-Tokyo",BB:"US-Atlanta",BY:"EU-London",BE:"EU-London",BZ:"US-Atlanta",BJ:"EU-London",BM:"US-Atlanta",BT:"JP-Tokyo",BO:"BR-Brazil",BQ:"US-Atlanta",BA:"EU-London",BW:"EU-London",BR:"BR-Brazil",IO:"JP-Tokyo",VG:"US-Atlanta",BN:"JP-Tokyo",BG:"EU-London",BF:"EU-London",BI:"EU-London",KH:"JP-Tokyo",CM:"EU-London",CA:"US-Atlanta",CV:"EU-London",KY:"US-Atlanta",CF:"EU-London",TD:"EU-London",CL:"BR-Brazil",CN:"CN-China",CX:"JP-Tokyo",CC:"JP-Tokyo",CO:"BR-Brazil",KM:"EU-London",CD:"EU-London",CG:"EU-London",CK:"SG-Singapore",CR:"US-Atlanta",CI:"EU-London",HR:"EU-London",CU:"US-Atlanta",CW:"US-Atlanta",CY:"JP-Tokyo",CZ:"EU-London",DK:"EU-London",DJ:"EU-London",DM:"US-Atlanta",DO:"US-Atlanta",EC:"BR-Brazil",EG:"EU-London",SV:"US-Atlanta",GQ:"EU-London",ER:"EU-London",EE:"EU-London",ET:"EU-London",FO:"EU-London",FK:"BR-Brazil",FJ:"SG-Singapore",FI:"EU-London",FR:"EU-London",GF:"BR-Brazil",PF:"SG-Singapore",GA:"EU-London",GM:"EU-London",GE:"JP-Tokyo",DE:"EU-London",GH:"EU-London",GI:"EU-London",GR:"EU-London",GL:"US-Atlanta",GD:"US-Atlanta",GP:"US-Atlanta",GU:"SG-Singapore",GT:"US-Atlanta",GG:"EU-London",GN:"EU-London",GW:"EU-London",GY:"BR-Brazil",HT:"US-Atlanta",VA:"EU-London",HN:"US-Atlanta",HK:"JP-Tokyo",HU:"EU-London",IS:"EU-London",IN:"JP-Tokyo",ID:"JP-Tokyo",IR:"JP-Tokyo",IQ:"JP-Tokyo",IE:"EU-London",IM:"EU-London",IL:"JP-Tokyo",IT:"EU-London",JM:"US-Atlanta",JP:"JP-Tokyo",JE:"EU-London",JO:"JP-Tokyo",KZ:"JP-Tokyo",KE:"EU-London",KI:"SG-Singapore",KP:"JP-Tokyo",KR:"JP-Tokyo",KW:"JP-Tokyo",KG:"JP-Tokyo",LA:"JP-Tokyo",LV:"EU-London",LB:"JP-Tokyo",LS:"EU-London",LR:"EU-London",LY:"EU-London",LI:"EU-London",LT:"EU-London",LU:"EU-London",MO:"JP-Tokyo",MK:"EU-London",MG:"EU-London",MW:"EU-London",MY:"JP-Tokyo",MV:"JP-Tokyo",ML:"EU-London",MT:"EU-London",MH:"SG-Singapore",MQ:"US-Atlanta",MR:"EU-London",MU:"EU-London",YT:"EU-London",MX:"US-Atlanta",FM:"SG-Singapore",MD:"EU-London",MC:"EU-London",MN:"JP-Tokyo",ME:"EU-London",MS:"US-Atlanta",MA:"EU-London",MZ:"EU-London",MM:"JP-Tokyo",NA:"EU-London",NR:"SG-Singapore",NP:"JP-Tokyo",NL:"EU-London",NC:"SG-Singapore",NZ:"SG-Singapore",NI:"US-Atlanta",NE:"EU-London",NG:"EU-London",NU:"SG-Singapore",NF:"SG-Singapore",MP:"SG-Singapore",NO:"EU-London",OM:"JP-Tokyo",PK:"JP-Tokyo",PW:"SG-Singapore",PS:"JP-Tokyo",PA:"US-Atlanta",PG:"SG-Singapore",PY:"BR-Brazil",PE:"BR-Brazil",PH:"JP-Tokyo",PN:"SG-Singapore",PL:"EU-London",PT:"EU-London",PR:"US-Atlanta",QA:"JP-Tokyo",RE:"EU-London",RO:"EU-London",RU:"RU-Russia",RW:"EU-London",BL:"US-Atlanta",SH:"EU-London",KN:"US-Atlanta",LC:"US-Atlanta",MF:"US-Atlanta",PM:"US-Atlanta",VC:"US-Atlanta",WS:"SG-Singapore",SM:"EU-London",ST:"EU-London",SA:"EU-London",SN:"EU-London",RS:"EU-London",SC:"EU-London",SL:"EU-London",SG:"JP-Tokyo",SX:"US-Atlanta",SK:"EU-London",SI:"EU-London",SB:"SG-Singapore",SO:"EU-London",ZA:"EU-London",SS:"EU-London",ES:"EU-London",LK:"JP-Tokyo",SD:"EU-London",SR:"BR-Brazil",SJ:"EU-London",SZ:"EU-London",SE:"EU-London",CH:"EU-London",SY:"EU-London",TW:"JP-Tokyo",TJ:"JP-Tokyo",TZ:"EU-London",TH:"JP-Tokyo",TL:"JP-Tokyo",TG:"EU-London",TK:"SG-Singapore",TO:"SG-Singapore",TT:"US-Atlanta",TN:"EU-London",TR:"TK-Turkey",TM:"JP-Tokyo",TC:"US-Atlanta",TV:"SG-Singapore",UG:"EU-London",UA:"EU-London",AE:"EU-London",GB:"EU-London",US:"US-Atlanta",UM:"SG-Singapore",VI:"US-Atlanta",UY:"BR-Brazil",UZ:"JP-Tokyo",VU:"SG-Singapore",VE:"BR-Brazil",VN:"JP-Tokyo",WF:"SG-Singapore",EH:"EU-London",YE:"JP-Tokyo",ZM:"EU-London",ZW:"EU-London"},Wn=null;t.connect=S;var Kn=500,Vn=-1,Yn=-1;t.sendMitosis=L,t.sendEject=w,t.refreshPlayerInfo=function(){P(253)},kt.I=function(t){var n={GG:"google",FB:"facebook"};return t.Ca=n,t.M=function(t,e){if(T()&&!0!==kt.cache.sentGameServerLogin){var o=null;switch(e){case n.GG:o=2;break;case n.FB:o=1}if(null!=o){var a=y(2+t.length);for(a.setUint8(0,82),a.setUint8(1,o),o=0;o<t.length;++o)a.setUint8(2+o,t.charCodeAt(o));U(a),kt.cache.sentGameServerLogin=!0}}},t}({});var Hn=null,qn=1,Xn=null,Zn=function(){var n=Date.now(),e=1e3/60;return function(){t.requestAnimationFrame(Zn);var o=Date.now(),a=o-n;a>e&&(n=o-a%e,!T()||240>Date.now()-In?B():console.warn("Skipping draw"),fe())}}(),Qn={},$n="poland;usa;china;russia;canada;australia;spain;brazil;germany;ukraine;france;sweden;chaplin;north korea;south korea;japan;united kingdom;earth;greece;latvia;lithuania;estonia;finland;norway;cia;maldivas;austria;nigeria;reddit;yaranaika;confederate;9gag;indiana;4chan;italy;bulgaria;tumblr;2ch.hk;hong kong;portugal;jamaica;german empire;mexico;sanik;switzerland;croatia;chile;indonesia;bangladesh;thailand;iran;iraq;peru;moon;botswana;bosnia;netherlands;european union;taiwan;pakistan;hungary;satanist;qing dynasty;matriarchy;patriarchy;feminism;ireland;texas;facepunch;prodota;cambodia;steam;piccolo;ea;india;kc;denmark;quebec;ayy lmao;sealand;bait;tsarist russia;origin;vinesauce;stalin;belgium;luxembourg;stussy;prussia;8ch;argentina;scotland;sir;romania;belarus;wojak;doge;nasa;byzantium;imperial japan;french kingdom;somalia;turkey;mars;pokerface;8;irs;receita federal;facebook;putin;merkel;tsipras;obama;kim jong-un;dilma;hollande;berlusconi;cameron;clinton;hillary;venezuela;blatter;chavez;cuba;fidel;merkel;palin;queen;boris;bush;trump".split(";"),te="8;nasa;putin;merkel;tsipras;obama;kim jong-un;dilma;hollande;berlusconi;cameron;clinton;hillary;blatter;chavez;fidel;merkel;palin;queen;boris;bush;trump".split(";"),ne={};D.prototype={Z:null,x:0,y:0,f:0,b:0};var ee=-1,oe=!1;j.prototype={id:0,a:null,name:null,i:null,P:null,x:0,y:0,size:0,s:0,u:0,o:0,J:0,K:0,g:0,da:0,S:0,ka:0,G:!1,c:!1,h:!1,T:!0,ca:0,C:null,ha:0,ba:function(){var t;for(t=0;t<_t.length;t++)if(_t[t]==this){_t.splice(t,1);break}delete zt[this.id],t=Rt.indexOf(this),-1!=t&&(sn=!0,Rt.splice(t,1)),t=Ot.indexOf(this.id),-1!=t&&Ot.splice(t,1),this.G=!0,0<this.ca&&Dt.push(this)},m:function(){return Math.max(~~(.3*this.size),24)},A:function(t){(this.name=t)&&(null==this.i?this.i=new K(this.m(),"#FFFFFF",!0,"#000000"):this.i.N(this.m()),this.i.B(this.name))},$:function(){for(var t=this.H();this.a.length>t;){var n=~~(Math.random()*this.a.length);this.a.splice(n,1)}for(0==this.a.length&&t>0&&this.a.push(new D(this,this.x,this.y,this.size,Math.random()-.5));this.a.length<t;)n=~~(Math.random()*this.a.length),n=this.a[n],this.a.push(new D(this,n.x,n.y,n.f,n.b))},H:function(){var t=10;20>this.size&&(t=0),this.c&&(t=30);var n=this.size;return this.c||(n*=en),n*=qn,~~Math.max(n,t)},ua:function(){this.$();for(var t=this.a,n=t.length,e=0;n>e;++e){var o=t[(e-1+n)%n].b,a=t[(e+1)%n].b;t[e].b+=(Math.random()-.5)*(this.h?3:1),t[e].b*=.7,10<t[e].b&&(t[e].b=10),-10>t[e].b&&(t[e].b=-10),t[e].b=(o+a+8*t[e].b)/10}for(var i=this,r=this.c?0:(this.id/1e3+qt/1e4)%(2*Math.PI),l=0,e=0;n>e;++e){var s=t[e].f,o=t[(e-1+n)%n].f,a=t[(e+1)%n].f;if(15<this.size&&null!=Tt&&20<this.size*en&&0<this.id){var c=!1,u=t[e].x,h=t[e].y;Tt.xa(u-5,h-5,10,10,function(t){t.Z!=i&&25>(u-t.x)*(u-t.x)+(h-t.y)*(h-t.y)&&(c=!0)}),!c&&(t[e].x<Qt||t[e].y<$t||t[e].x>tn||t[e].y>nn)&&(c=!0),c&&(0<t[e].b&&(t[e].b=0),--t[e].b)}s+=t[e].b,0>s&&(s=0),s=this.h?(19*s+this.size)/20:(12*s+this.size)/13,t[e].f=(o+a+8*s)/10,o=2*Math.PI/n,a=this.a[e].f,this.c&&0==e%2&&(a+=5),t[e].x=this.x+Math.cos(o*e+r)*a,t[e].y=this.y+Math.sin(o*e+r)*a,l=Math.max(l,a)}this.ha=l},R:function(){if(0>=this.id)return 1;var t;t=(qt-this.S)/120,t=0>t?0:t>1?1:t;var n=0>t?0:t>1?1:t;if(this.G&&n>=1){var e=Dt.indexOf(this);-1!=e&&Dt.splice(e,1)}return this.x=t*(this.J-this.s)+this.s,this.y=t*(this.K-this.u)+this.u,this.size=n*(this.g-this.o)+this.o,.01>Math.abs(this.size-this.g)&&(this.size=this.g),n},O:function(){return 0>=this.id?!0:this.x+this.size+40<Gt-Lt/2/en||this.y+this.size+40<Jt-wt/2/en||this.x-this.size-40>Gt+Lt/2/en||this.y-this.size-40>Jt+wt/2/en?!1:!0},w:function(n){if(this.O()){++this.ca;var e=0<this.id&&!this.c&&!this.h&&.4>en;if(5>this.H()&&0<this.id&&(e=!0),this.T&&!e)for(var o=0;o<this.a.length;o++)this.a[o].f=this.size;this.T=e,n.save(),this.ka=qt;var a=this.R();this.G&&(n.globalAlpha*=1-a),n.lineWidth=10,n.lineCap="round",n.lineJoin=this.c?"miter":"round";var o=this.name.toLowerCase(),i=null,r=null,a=!1,l=this.color;if(this.h||!an||Fn||(-1!=$n.indexOf(o)?(Qn.hasOwnProperty(o)||(Qn[o]=new Image,Qn[o].src=t.ASSETS_ROOT+"skins/"+o+".png"),i=0!=Qn[o].width&&Qn[o].complete?Qn[o]:null):i=null,null!=i?-1!=te.indexOf(o)&&(a=!0):("%starball"==this.C&&"shenron"==o&&7<=Rt.length&&(oe=a=!0,r=z("%starball1")),i=z(this.C),null!=i&&(l=R(this.C)||l))),ln?(n.fillStyle="#FFFFFF",n.strokeStyle="#AAAAAA"):(n.fillStyle=l,n.strokeStyle=l),e)n.beginPath(),n.arc(this.x,this.y,this.size+5,0,2*Math.PI,!1);else for(this.ua(),n.beginPath(),l=this.H(),n.moveTo(this.a[0].x,this.a[0].y),o=1;l>=o;++o){var s=o%l;n.lineTo(this.a[s].x,this.a[s].y)}n.closePath(),e||n.stroke(),n.fill(),null!=i&&(this.ia(n,i),null!=r&&this.ia(n,r,{alpha:Math.sin(.0174*ee)})),(ln||15<this.size)&&!e&&(n.strokeStyle="#000000",n.globalAlpha*=.1,n.stroke()),n.globalAlpha=1,i=-1!=Rt.indexOf(this),e=~~this.y,0!=this.id&&(rn||i)&&this.name&&this.i&&!a&&(r=this.i,r.B(this.name),r.N(this.m()),a=0>=this.id?1:Math.ceil(10*en)/10,r.ja(a),r=r.L(),o=Math.ceil(r.width/a),l=Math.ceil(r.height/a),n.drawImage(r,~~this.x-~~(o/2),e-~~(l/2),o,l),
e+=r.height/2/a+4),0<this.id&&hn&&(i||0==Rt.length&&(!this.c||this.h)&&20<this.size)&&(null==this.P&&(this.P=new K(this.m()/2,"#FFFFFF",!0,"#000000")),i=this.P,i.N(this.m()/2),i.B(~~(this.size*this.size/100)),a=Math.ceil(10*en)/10,i.ja(a),r=i.L(),o=Math.ceil(r.width/a),l=Math.ceil(r.height/a),n.drawImage(r,~~this.x-~~(o/2),e-~~(l/2),o,l)),n.restore()}},ia:function(t,n,e){t.save(),t.clip();var o=Math.max(this.size,this.ha);null!=e&&null!=e.alpha&&(t.globalAlpha=e.alpha),t.drawImage(n,this.x-o-5,this.y-o-5,2*o+10,2*o+10),t.restore()}};var ae=function(t){function n(t,n,e){return n>t?n:t>e?e:t}return t.fa=function(t,e){var o;return o=n(.5,0,1),t+o*(e-t)},t.Ba=n,t}({});t.Maths=ae,K.prototype={F:"",U:"#000000",W:!1,X:"#000000",v:16,j:null,V:null,l:!1,D:1,N:function(t){this.v!=t&&(this.v=t,this.l=!0)},ja:function(t){this.D!=t&&(this.D=t,this.l=!0)},B:function(t){t!=this.F&&(this.F=t,this.l=!0)},L:function(){if(null==this.j&&(this.j=document.createElement("canvas"),this.V=this.j.getContext("2d")),this.l){this.l=!1;var t=this.j,n=this.V,e=this.F,o=this.D,a=this.v,i=a+"px Ubuntu";n.font=i;var r=~~(.2*a);t.width=(n.measureText(e).width+6)*o,t.height=(a+r)*o,n.font=i,n.scale(o,o),n.globalAlpha=1,n.lineWidth=3,n.strokeStyle=this.X,n.fillStyle=this.U,this.W&&n.strokeText(e,3,a-r/2),n.fillText(e,3,a-r/2)}return this.j}},Date.now||(Date.now=function(){return(new Date).getTime()}),function(){for(var n=["ms","moz","webkit","o"],e=0;e<n.length&&!t.requestAnimationFrame;++e)t.requestAnimationFrame=t[n[e]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[e]+"CancelAnimationFrame"]||t[n[e]+"CancelRequestAnimationFrame"];t.requestAnimationFrame||(t.requestAnimationFrame=function(t){return setTimeout(t,1e3/60)},t.cancelAnimationFrame=function(t){clearTimeout(t)})}();var ie={init:function(t){function n(t){return o>t&&(t=o),t>i&&(t=i),~~((t-o)/32)}function e(t){return a>t&&(t=a),t>r&&(t=r),~~((t-a)/32)}var o=t.sa,a=t.ta,i=t.qa,r=t.ra,l=~~((i-o)/32)+1,s=~~((r-a)/32)+1,c=Array(l*s);return{na:function(t){var o=n(t.x)+e(t.y)*l;null==c[o]?c[o]=t:Array.isArray(c[o])?c[o].push(t):c[o]=[c[o],t]},xa:function(t,o,a,i,r){var s=n(t),u=e(o);for(t=n(t+a),o=e(o+i);o>=u;++u)for(i=s;t>=i;++i)if(a=c[i+u*l],null!=a)if(Array.isArray(a))for(var h=0;h<a.length;h++)r(a[h]);else r(a)}}}},re=function(){var t=new j(0,0,0,32,"#ED1C24",""),n=document.createElement("canvas");n.width=32,n.height=32;var e=n.getContext("2d");return function(){0<Rt.length&&(t.color=Rt[0].color,t.A(Rt[0].name)),e.clearRect(0,0,32,32),e.save(),e.translate(16,16),e.scale(.4,.4),t.w(e),e.restore();var o=document.getElementById("favicon"),a=o.cloneNode(!0);a.setAttribute("href",n.toDataURL("image/png")),o.parentNode.replaceChild(a,o)}}();n(function(){re()});var le={context:null,defaultProvider:"facebook",loginIntent:"0",userInfo:{socialToken:null,tokenExpires:"",level:"",xp:"",xpNeeded:"",name:"",picture:"",displayName:"",loggedIn:"0",socialId:""}},se=t.defaultSt=le;t.storageInfo=se,t.createDefaultStorage=Y,t.updateStorage=q,n(function(){null!=t.localStorage.storeObjectInfo&&(se=JSON.parse(t.localStorage.storeObjectInfo)),"1"==se.loginIntent&&H(se.context),""==se.userInfo.name&&""==se.userInfo.displayName||X(se.userInfo)}),t.checkLoginStatus=function(){"1"==se.loginIntent&&(ce(),H(se.context))};var ce=function(){t.MC.setProfilePicture(se.userInfo.picture),t.MC.setSocialId(se.userInfo.socialId)};t.logout=function(){se=le,delete t.localStorage.storeObjectInfo,t.localStorage.storeObjectInfo=JSON.stringify(le),q(),de(),kt.cache.sentGameServerLogin=!1,delete kt.cache.login_info,n("#helloContainer").attr("data-logged-in","0"),n("#helloContainer").attr("data-has-account-data","0"),n(".timer").text(""),n("#gPlusShare").hide(),n("#fbShare").show(),n("#user-id-tag").text(""),m(),t.MC.doLogout()},t.toggleSocialLogin=function(){n("#socialLoginContainer").toggle(),n("#settings").hide(),n("#instructions").hide(),Q()},t.toggleSettings=function(){n("#settings").toggle(),n("#socialLoginContainer").hide(),n("#instructions").hide(),Q()},kt.account=function(t){function e(){}function o(){console.log("got user login")}return t.init=function(){kt.core.bind("user_login",o),kt.core.bind("user_logout",e)},t.setUserData=function(t){X(t)},t.setAccountData=function(t,e){var o=n("#helloContainer").attr("data-has-account-data","1");se.userInfo.xp=t.xp,se.userInfo.xpNeeded=t.xpNeeded,se.userInfo.level=t.level,q(),o&&e?Z(t):(n(".agario-profile-panel .progress-bar-star").text(t.level),n(".agario-exp-bar .progress-bar-text").text(t.xp+"/"+t.xpNeeded+" XP"),n(".agario-exp-bar .progress-bar").css("width",(88*t.xp/t.xpNeeded).toFixed(2)+"%"))},t.za=function(t){Z(t)},t}({});var ue=0;t.fbAsyncInit=function(){function n(){null==t.FB?alert("You seem to have something blocking Facebook on your browser, please check for any extensions"):(se.loginIntent="1",t.updateStorage(),t.FB.login(function(t){$(t)},{scope:"public_profile, email"}))}t.FB.init({appId:St.fb_app_id,cookie:!0,xfbml:!0,status:!0,version:"v2.2"}),("1"==t.storageInfo.loginIntent&&"facebook"==t.storageInfo.context||gt)&&t.FB.getLoginStatus(function(e){"connected"===e.status?$(e):"not_authorized"===e.status?(t.logout(),n()):t.logout()}),t.facebookRelogin=n,t.facebookLogin=n};var he=!1;!function(e){function o(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//apis.google.com/js/client:platform.js?onload=gapiAsyncInit";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),i=!0}var a={},i=!1;return t.gapiAsyncInit=function(){n(a).trigger("initialized")},e.google={oa:function(){o()},ma:function(n,e){t.gapi.client.load("plus","v1",function(){console.log("fetching me profile"),gapi.client.plus.people.get({userId:"me"}).execute(function(t){e(t)})})}},e.wa=function(t){i||o(),"undefined"!=typeof gapi?t():n(a).bind("initialized",t)},e}(kt);var ge=function(e){function o(n){t.MC.doLoginWithGPlus(n),kt.cache.login_info=[n,"google"],kt.I.M(n,"google")}function a(t){se.userInfo.picture=t,n(".agario-profile-picture").attr("src",t)}var i=null,r={client_id:St.gplus_client_id,cookie_policy:"single_host_origin",scope:"profile email"};return e.ea={Y:function(){return i},init:function(){var n=this,e=se&&"1"==se.loginIntent&&"google"==se.context;kt.wa(function(){t.gapi.ytsubscribe.go("agarYoutube"),t.gapi.load("auth2",function(){i=t.gapi.auth2.init(r),i.attachClickHandler(document.getElementById("gplusLogin"),{},function(t){console.log("googleUser : "+t)},function(t){console.log("failed to login in google plus: ",JSON.stringify(t,void 0,2))}),i.currentUser.listen(_.bind(n.va,n)),e&&1==i.isSignedIn.get()&&i.signIn()})})},va:function(n){if(i&&n&&i.isSignedIn.get()&&!he){he=!0,se.loginIntent="1";var e=n.getAuthResponse(),r=e.access_token;t.Y=e,console.log("loggedIn with G+!");var l=n.getBasicProfile();n=l.getImageUrl(),void 0==n?kt.google.ma(e,function(n){n.result.isPlusUser?(n&&a(n.image.url),o(r),n&&(se.userInfo.picture=n.image.url),se.userInfo.socialId=l.getId(),ce()):(alert("Please add Google+ to your Google account and try again.\nOr you can login with another account."),t.logout())}):(a(n),se.userInfo.picture=n,se.userInfo.socialId=l.getId(),ce(),o(r)),se.context="google",t.updateStorage()}},pa:function(){i&&(i.signOut(),he=!1)}},e}(kt);t.gplusModule=ge;var de=function(){kt.ea.pa()};t.logoutGooglePlus=de;var fe=function(){function t(t,n,e,o,a){var i=n.getContext("2d"),r=n.width;n=n.height,t.color=a,t.A(e),t.size=o,i.save(),i.translate(r/2,n/2),t.w(i),i.restore()}for(var e=new j(-1,0,0,32,"#5bc0de",""),o=new j(-1,0,0,32,"#5bc0de",""),a="#0791ff #5a07ff #ff07fe #ffa507 #ff0774 #077fff #3aff07 #ff07ed #07a8ff #ff076e #3fff07 #ff0734 #07ff20 #ff07a2 #ff8207 #07ff0e".split(" "),i=[],r=0;r<a.length;++r){var l=r/a.length*12,s=30*Math.sqrt(r/a.length);i.push(new j(-1,Math.cos(l)*s,Math.sin(l)*s,10,a[r],""))}V(i);var c=document.createElement("canvas");return c.getContext("2d"),c.width=c.height=70,t(o,c,"",26,"#ebc0de"),function(){n(".cell-spinner").filter(":visible").each(function(){var o=n(this),a=Date.now(),i=this.width,r=this.height,l=this.getContext("2d");l.clearRect(0,0,i,r),l.save(),l.translate(i/2,r/2);for(var s=0;10>s;++s)l.drawImage(c,(.1*a+80*s)%(i+140)-i/2-70-35,r/2*Math.sin((.001*a+s)%Math.PI*2)-35,70,70);l.restore(),(o=o.attr("data-itr"))&&(o=f(o)),t(e,this,o||"",+n(this).attr("data-size"),"#5bc0de")}),n("#statsPellets").filter(":visible").each(function(){n(this);var e=this.width,o=this.height;for(this.getContext("2d").clearRect(0,0,e,o),e=0;e<i.length;e++)t(i[e],this,"",i[e].size,i[e].color)})}}();t.createParty=function(){g(":party"),Wn=function(e){nt("/#"+t.encodeURIComponent(e)),n(".partyToken").val("agar.io/#"+t.encodeURIComponent(e)),n("#helloContainer").attr("data-party-state","1")},m()},t.joinParty=tt,t.cancelParty=function(){nt("/"),n("#helloContainer").attr("data-party-state","0"),g(""),m()};var pe=[],me=0,ve="#000000",Se=!1,ye=!1,Ue=0,be=0,xe=0,ke=0,Ae=0,Ee=!0;t.onPlayerDeath=et,setInterval(function(){ye&&pe.push(J()/100)},1e3/60),setInterval(function(){var t=it();0!=t&&(++xe,0==Ae&&(Ae=t),Ae=Math.min(Ae,t))},1e3),t.closeStats=function(){Se=!1,n("#stats").hide(),t.destroyAd(t.adSlots.ab),h(0)},t.setSkipStats=function(t){Ee=!t},t.getStatsString=st,t.gPlusShare=ct,t.twitterShareStats=function(){var n=t.getStatsString("g_plus_share_stats");t.open("https://twitter.com/intent/tweet?text="+n,"Agar.io","width=660,height=310,menubar=no,toolbar=no,resizable=yes,scrollbars=no,left="+(t.screenX+t.innerWidth/2-330)+",top="+(t.innerHeight-310)/2)},t.fbShareStats=function(){var n=t.getStatsString("fb_matchresults_subtitle");t.FB.ui({method:"feed",display:"iframe",name:f("fb_matchresults_title"),caption:f("fb_matchresults_description"),description:n,link:"http://agar.io",Fa:"http://static2.miniclipcdn.com/mobile/agar/Agar.io_matchresults_fb_1200x630.png",ya:{name:"play now!",link:"http://agar.io"}})},t.fillSocialValues=function(n,e){1==t.isChrome&&"google"==t.storageInfo.context&&t.gapi.interactivepost.render(e,{contenturl:St.game_url,clientid:St.gplus_client_id,cookiepolicy:"http://agar.io",prefilltext:n,calltoactionlabel:"BEAT",calltoactionurl:St.game_url})},n(function(){n(a),"MAsyncInit"in t&&t.MAsyncInit()})}}}}(window,window.jQuery);
</script>
<script type="text/javascript" src="mc/lib/soundjs.min.js"></script>
<script type="text/javascript" src="mc/agario.js?v=39"></script>
</head>
<body>
<main style="display:none">
<h1>Agar.io</h1>
<p>The smash hit game! Control your cell and eat other players to grow larger! Play with millions of players around the world and try to become the biggest cell of all!</p>
<script type="text/javascript">
$(function(){
	window['setGameMode']('');
})
</script>
</main>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<div id="openfl-overlay"></div>
<div id="openfl-content"></div>
<a id="modal-payment-link" class="xsolla_container" href="/pay/"></a>
<script src="js/a.js?a&amp;ad_box_"></script>
<div id="overlays" style="display:none; position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: 200;">
<div id="controller_alert_connected" class="gamepad_alert" style="display:none">
<div class="wrapper">
<span class="controller_icon">&nbsp;</span>
<span class="alert_text">Controller Connected</span>
</div>
</div>
<div id="controller_alert_disconnected" class="gamepad_alert" style="display:none">
<div class="wrapper">
<span class="controller_icon">&nbsp;</span>
<span class="alert_text">Controller Disconnected</span>
</div>
</div>
<div id="helloContainer" data-logged-in="0" data-has-account-data="0" data-party-state="0" data-results-state="0" data-gamemode="">
<div class="side-container">
<div class="agario-panel agario-side-panel agario-profile-panel">
<div class="clearfix" style="margin-bottom: 16px;">
<img class="agario-profile-picture"/>
<div class="agario-profile-name-container">
<div class="agario-wallet-container">
<span class="agario-wallet-label">-</span>
<img src="mc/img/currency_icon.png" class="agario-wallet-currency"/>
<div class="agario-wallet-plus">
<span>+</span>
</div>
</div>
<div class="agario-profile-name"></div>
</div>
</div>
<div style="position: relative; margin-bottom: -15px;" class="clearfix">
<div class="agario-exp-bar progress">
<span class="progress-bar-text"></span>
<div class="progress-bar progress-bar-striped" style="width: 0%;"></div>
</div>
<div class="progress-bar-border"></div>
<div class="progress-bar-star"></div>
</div>
</div>
 
<div class="agario-loggedout-panel">
<img src="img/login-perks.png">
</div>
 
<div class="agario-panel agario-side-panel agario-shop-panel">
<div class="form-group" id="agario-second-buttons">
<button id="openShopBtn" onclick="MC.openShop(); return false;" class="btn btn-primary btn-shop" style="line-height: 24px;" data-itr="Shop">
</button>
<br clear="both"/>
</div>
<div class="shop-left-container">
<div id="skinButton" style="cursor:pointer">
<div class="circle big green" style="top:75px;"><span class="outlined-text plus-text" style="cursor:pointer;line-height: 26px;">+</span></div>
<img class="circle bordered"/>
<span id="skinLabel" class="outlined-text"></span>
</div>
</div>
<div class="vertical-line" style="min-height:115px;"></div>
<div class="shop-right-container">
<div style="position:relative">
<div id="boostButton" class="shop-power">
<div class="circle small green"><span class="outlined-text" style="cursor:pointer">+</span></div>
<img src="mc/img/xpboost_3x_shop.png" style="vertical-align:top; width:60px; display:block;margin:auto;"/>
<span class="timer"></span>
</div>
<div id="massButton" class="shop-power">
<div class="circle small green"><span class="outlined-text" style="cursor:pointer">+</span></div>
<img src="mc/img/massboost_3x_shop.png" style="vertical-align:top; width:60px; display:block;margin:auto;"/>
<span class="timer"></span>
</div>
</div>
</div>
<span class="text-muted"></span>
<button id="retryBtn" onclick="MC.retryConnection(); return false;" class="btn btn-primary btn-retry" style="display:none;margin-top:10px;" data-itr="Retry"></button>
</div>
</div>
<div id="mainPanel" class="agario-panel">
<div role="form" novalidate>
<div class="form-group clearfix">
<div style="float: left; margin-left: 20px;"><h2>Agar.io</h2></div>
<div style="float: right; margin-top: 10px; height: 40px;">
<div id="agarYoutube">
<div class="g-ytsubscribe" data-channelid="UCC6hurPo_LxL7C0YFYgYnIw" data-layout="default" data-count="default"></div>
</div>
<div class="clearfix">
<div class="fb-like pull-right" data-href="https://www.facebook.com/playagar.io" data-layout="button" data-action="like" data-show-faces="true" data-share="true"></div>
</div>
</div>
</div>
<div class="form-group clearfix">
<input id="nick" class="form-control" placeholder="Nick" maxlength="15" autofocus />
<select id="gamemode" class="form-control" onchange="setGameMode($(this).val());" required>
<option value="" data-itr="gamemode_ffa"></option>
<option value=":teams" data-itr="gamemode_teams" disabled></option>
<option value=":experimental" data-itr="gamemode_experimental"></option>
<option value=":party" data-itr="party"></option>
</select>
</div>
<div id="locationUnknown">
<select id="region" class="form-control" onchange="setRegion($('#region').val());" required>
<option selected disabled value="" data-itr="region_select"></option>
<option value="US-Atlanta" data-itr="region_north_america"></option>
<option value="BR-Brazil" data-itr="region_south_america"></option>
<option value="EU-London" data-itr="region_europe"></option>
<option value="RU-Russia" data-itr="region_russia"></option>
<option value="TK-Turkey" data-itr="region_turkey"></option>
<option value="JP-Tokyo" data-itr="region_east_asia"></option>
<option value="CN-China" data-itr="region_china"></option>
<option value="SG-Singapore" data-itr="region_oceania"></option>
</select>
</div>
<div class="form-group" id="agario-main-buttons">
<div class="row">
<button type="button" onclick="toggleSettings(); return false;" class="btn btn-info btn-settings"><i class="glyphicon glyphicon-cog"></i>
</button>
<button disabled type="submit" onclick="setNick(document.getElementById('nick').value); return false;" class="btn btn-play btn-primary btn-needs-server" data-itr="play"></button>
<button disabled type="submit" onclick="setNick(document.getElementById('nick').value); return false;" class="btn btn-play-guest btn-success btn-needs-server" data-itr="play_as_guest"></button>
<button disabled type="submit" onclick="toggleSocialLogin(); return false" class="btn btn-warning btn-login-play btn-needs-server" data-itr="login_and_play"></button>
</div>
<div id="socialLoginContainer" style="display:none;">
<div class="row">
<button onclick="facebookLogin(); return false;" class="col-lg-12 col-md-12 btn btn-primary btn-login btn-fb" style="">
<span class="social social-facebook fb-icon"></span>
<span class="btn-text" data-itr="menu_login_facebook"></span>
</button>
</div>
<div class="row">
<button id="gplusLogin" class="col-lg-12 col-md-12 btn btn-primary btn-gplus btn-login">
<span class="gplus-icon"></span>
<span class="btn-text" data-itr="menu_login_google"></span>
</button>
</div>
</div>
</div>
<div id="settings" class="checkbox" style="display:none;">
<div style="float: left; width: 200px;">
<div id="locationKnown"></div>
<div id="options" style="margin: 6px; font-size: 12px;">
<label><input type="checkbox" onchange="setSkins(!$(this).is(':checked'));"><span data-itr="option_no_skins"></span></label>
<label><input type="checkbox" onchange="setNames(!$(this).is(':checked'));"><span data-itr="option_no_names"></span></label>
<label><input type="checkbox" onchange="setColors($(this).is(':checked'));"><span data-itr="option_no_colors"></span></label>
<label><input type="checkbox" onchange="setShowMass($(this).is(':checked'));"><span data-itr="option_show_mass"></span></label>
<label><input type="checkbox" onchange="setDarkTheme($(this).is(':checked'));"><span data-itr="option_dark_theme"></span></label>
<label><input type="checkbox" onchange="setSkipStats($(this).is(':checked'));"><span data-itr="option_skip_stats"></span></label>
</div>
</div>
<div style="float: right; width: 120px;">
<button onclick="spectate(); return false;" disabled class="btn btn-warning btn-spectate btn-needs-server" data-itr="spectate"></button>
<button onclick="logout(); return false;" class="btn btn-danger btn-logout" data-itr="logout"></button>
</div>
<br clear="both"/>
<div id="tags-container">
<span id="user-id-tag"></span>
<span id="version-tag"></span>
</div>
</div>
</div>
<div id="instructions">
<hr/>
<center><span class="text-muted">
<span data-itr="instructions_mouse"></span><br/>
<span data-itr="instructions_space"></span><br/>
<span data-itr="instructions_w"></span><br/>
</span></center>
</div>
<hr/>
<center>
<small class="text-muted" style="display: block; margin-bottom: 16px;" data-itr="advertisement"></small>
<div id="adbg" style="margin-bottom: 10px; width: 300px; height: 250px;">
<div id="g300x250" style="display:block;"></div>
<div id="a300x250" style="display:none;"></div>
</div>
</center>
</div>
<div id="stats" style="display: none;" class="agario-panel">
<h2><center>Match Results</center></h2>
<canvas id="statsGraph" width="350" height="230"></canvas>
<div id="statsPelletsContainer">
 
<span id="statsText" class="stats-food-eaten"></span>
<span id="statsSubtext" data-itr="stats_food_eaten"></span>
</div>
<div id="statsHighestMassContainer">
 
<span id="statsText" class="stats-highest-mass"></span>
<span id="statsSubtext" data-itr="stats_highest_mass"></span>
</div>
<div id="statsTimeAliveContainer">
 
<span id="statsText" class="stats-time-alive"></span>
<span id="statsSubtext" data-itr="stats_time_alive"></span>
</div>
<div id="statsTimeLeaderboardContainer">
 
<span id="statsText" class="stats-leaderboard-time"></span>
<span id="statsSubtext" data-itr="stats_leaderboard_time"></span>
</div>
<div id="statsPlayerCellsEatenContainer">
 
<span id="statsText" class="stats-cells-eaten"></span>
<span id="statsSubtext" data-itr="stats_cells_eaten"></span>
</div>
<div id="statsTopPositionContainer">
 
<span id="statsText" class="stats-top-position">?</span>
<span id="statsSubtext" data-itr="stats_top_position"></span>
</div>
<hr style="position:absolute;bottom:370px;width:100%;margin:0px;"/>
<div id="socialStats" style="position: absolute;bottom: 325px;left: 25px;right:25px;">
<button id="gPlusShare" style="width:49%;float:left;display:none" class="g-interactivepost btn btn-primary btn-gplus" data-contenturl="http://agar.io" data-clientid='' data-cookiepolicy="http://agar.io" data-prefilltext="" data-calltoactionlabel="BEAT" data-calltoactionurl="http://agar.io">
<span class="gplus-icon"></span>
<span class="btn-text" data-itr="share"></span>
</button>
<button id="fbShare" class="btn btn-primary btn-fb" onclick="fbShareStats(); return false" style="position:relative;width:49%;float:left;">
<span class="social social-facebook fb-icon"></span>
<span class="btn-text" data-itr="share"></span>
</button>
<button class="btn btn-primary btn-twitter" onclick="twitterShareStats(); return false" style="position:relative;width:49%;float:right">
<span class="twitter-icon"></span>
<span class="btn-text" data-itr="share"></span>
</button>
</div>
<button id="statsContinue" class="btn btn-primary" data-itr="continue" onclick="closeStats();"></button>
<hr style="position:absolute;bottom:255px;width:100%;"/>
<div id="s300x250"></div>
</div>
<div class="side-container">
<div class="agario-party">
<div class="agario-panel agario-side-panel agario-party-0">
<h4><center data-itr="party"></center></h4>
<div style="margin-bottom: 12px;" data-itr="party_description"></div>
<div class="clearfix" style="margin: 0px -10px 0px -10px;">
<button class="btn btn-primary" style="width: 102.5px; float: left;" onclick="$('#helloContainer').attr('data-party-state', '3');createParty();" data-itr="create_party"></button>
<button class="btn btn-primary" style="width: 102.5px; float: right;" onclick="$('#joinPartyToken').val('');$('#helloContainer').attr('data-party-state', '2');" data-itr="join_party"></button>
</div>
</div>
<div class="agario-panel agario-side-panel agario-party-1">
<h4><center data-itr="party"></center></h4>
<div style="margin-bottom: 12px;" data-itr="create_party_instructions"></div>
<div class="clearfix">
<input type="text" value="??????" readonly class="partyToken form-control" style="cursor: text; width: 130px; float: left; border-radius: 4px 0px 0px 4px;"/>
<button class="btn btn-primary copy-party-token" style="float: right; width: 60px; border-radius: 0px 4px 4px 0px;">Copy</button>
</div>
</div>
<div class="agario-panel agario-side-panel agario-party-2">
<h4><center data-itr="party"></center></h4>
<div style="margin-bottom: 12px;" data-itr="join_party_instructions"></div>
<input id="joinPartyToken" type="text" value="" class="form-control"/>
<div class="clearfix" style="margin: 10px -10px 0px -10px;">
<button class="btn btn-primary" style="width: 210px; float: right;" onclick="joinParty($('#joinPartyToken').val());" data-itr="join_party"></button>
</div>
</div>
<div class="agario-panel agario-side-panel agario-party-3" style="padding: 0px; overflow: hidden; position: relative;">
<canvas width="220" height="100" class="cell-spinner" data-size="26"></canvas>
<div class="creating-party-text" data-itr="creating_party"></div>
</div>
<div class="agario-panel agario-side-panel agario-party-4" style="padding: 0px; overflow: hidden; position: relative;">
<canvas width="220" height="100" class="cell-spinner" data-size="26"></canvas>
<div class="creating-party-text" data-itr="joining_party"></div>
</div>
<div class="agario-panel agario-side-panel agario-party-5">
<h4><center data-itr="party"></center></h4>
<div style="margin-bottom: 12px;" data-itr="joined_party_instructions"></div>
<div class="clearfix">
<input type="text" value="??????" readonly class="partyToken form-control" style="cursor: text; width: 125px; float: left;"/>
<button class="btn btn-primary copy-party-token" style="float: right; width: 60px;">Copy</button>
</div>
</div>
<div class="agario-panel agario-side-panel agario-party-6">
<h4><center data-itr="party"></center></h4>
<div style="margin-bottom: 12px;" data-itr="party_join_error"></div>
<div class="clearfix" style="margin: 10px -10px 0px -10px;">
<button class="btn btn-primary btn-block" onclick="$('#helloContainer').attr('data-party-state', '0');" data-itr="back_button"></button>
</div>
</div>
<div style="position: absolute; right: 10px; top: 4px;">
<button type="button" class="close" onclick="cancelParty();">&times;</button>
</div>
</div>
<div class="agario-promo" style="padding: 0px; width: 293px; height: 366px; position: relative; background-image: url(/img/promo.png);">
<div style="text-align: center; position: absolute; bottom: 10px; width: 100%;">
<a href="https://itunes.apple.com/app/agar.io/id995999703?mt=8&amp;at=1l3vajp" target="_blank" onclick="ga('send', 'event', 'MobilePromo', 'AppStore');"><img src="img/appstore.png" alt="Download on the App Store"/></a>
<a href="https://play.google.com/store/apps/details?id=com.miniclip.agar.io" target="_blank" onclick="ga('send', 'event', 'MobilePromo', 'PlayStore');"><img src="img/google_play.png" alt="Get it on Google play"/></a>
</div>
</div>
<div id="agario-web-incentive" style="display:none;padding: 0px; width: 293px; height: 366px; position: relative; background-image: url(/img/incentive.png);">
</div>
</div>
</div>
<script>
	if(hasBottomAd){
		document.write('<div id="adsBottom" style="z-index: 200;display:block;"><div id="adsBottomInner"><div id="g728x90"></div><div id="a728x90"></div></div></div>');
	}

	</script>
<footer class="tosBox left">
<center>
<a href="/ffa/" class="text-muted" data-itr="gamemode_ffa" title="Free-for-all action: eat other players to be the biggest cell on the block!"></a>
|
<a href="/teams/" class="text-muted" data-itr="gamemode_teams" title="Join up for team mode group action: co-operate, compete, eat!"></a>
|
<a href="/experimental/" class="text-muted" data-itr="gamemode_experimental" title="Experimental game mode with a strange new food-producing virus."></a>
|
<a href="/party/" class="text-muted" data-itr="party" title="Play with your friends! Create your own private room and invite friends!"></a>
</center>
</footer>
<footer class="tosBox right">
<center>
<a href="/privacy.txt" class="text-muted" data-itr="privacy_policy"></a>
|
<a href="/terms.txt" class="text-muted" data-itr="terms_of_service"></a>
|
<a href="/changelog.txt" class="text-muted" data-itr="changelog"></a>
</center>
</footer>
</div>
<div id="connecting" style="display: none; position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: 100;">
<div class="connecting-panel" style="width: 350px; background-color: #FFFFFF; margin: auto auto auto -175px; border-radius: 15px; padding: 5px 15px 5px 15px;">
<h2 data-itr="connecting"></h2>
<p data-itr="connect_help"></p>
</div>
</div>
<button id="externalGShare" style="display:none" class="g-interactivepost" data-contenturl="http://agar.io" data-clientid='' data-cookiepolicy="http://agar.io" data-prefilltext="" data-calltoactionlabel="BEAT" data-calltoactionurl="http://agar.io">
</button>
<script>
$('.partyToken').on('mouseover click mousemove mousedown mouseup select', function(e){
	//this.setSelectionRange(0, this.value.length);
	//e.preventDefault();
});

$('.copy-party-token').click(function(){
	var i = $('.partyToken:visible')[0];
	i.setSelectionRange(0, i.value.length);
	i.select();
	try {
		document.execCommand('copy');
	} catch (e) {}
});

var hasAdblock = (document.getElementById("tester") == null);

if(hasAdblock){
	$('#adbg').css('background-image', "url('/blocker.png')");
}
</script>
<canvas id="canvas" width="800" height="600"></canvas>
<div style="font-family:'Ubuntu'">&nbsp;</div>
<script>
var MC = new MiniclipAPI("openfl-content","openfl-overlay");
MC.loadEnvironment(EnvConfig);
window["MC"]=MC;
lime.embed ("openfl-content", 880, 1024, "transparent", "mc/");
MC.hideContainer();

MC.onReady = function(){
	if ('gamepad' in queryString){
		MC.onGamepadUpdate(gamepadAxisUpdate);
		MC.registerSplitFunction(sendMitosis);
		MC.registerEjectFunction(sendEject);
	}
}

$(function () {
	//Hide g+ button on facebook canvas
	if(isInFacebook){
		$('#gplusLogin').hide();
		$('.btn-logout').hide();
	}

	//Show interactive share on g+ on chrome
	if(window['isChrome']==false)
	{
		$('#gPlusShare').click(function(e){
			e.stopPropagation();
			e.preventDefault();
			window['gPlusShare']();
		});
		$('#externalGShare').click(function(e){
			e.stopPropagation();
			e.preventDefault();
			window['gPlusShare']();
		})
	}
	

	//Apply Localization String
	$('[data-itr]').each(function(){
		var $this = $(this);
		var itr = $this.attr('data-itr');
		$this.html(i18n[itr] || i18n_dict['en'][itr] || itr);
	});

	//Shop Buttons
	$('#massButton').click(function(e) {
		MC.openShop('shopMass');
	});
	$('#skinButton').click(function(e) {
		MC.openShop('shopSkins',{tab: $(this).attr('data-type')});
	});
	$('#boostButton').click(function(e) {
		MC.openShop('shopBoost');
	});
	$('.agario-wallet-container').click(function(e) {
		if(MC.isShopAvailable())
		{
			MC.openShop('shopCurrency');
		}
	});

	
	
	$('.agario-profile-picture').click(function(){
		MC.showProfile();
	})
	
	$('.btn-login-play').tooltip({
		'html': true,
		'title': i18n['login_tooltip'],
		'placement': 'top',
		'trigger': 'manual'
	});

	var tooltipCounter = 0;
	$('.btn-play-guest').hover(function(){ tooltipCounter++; checkTooltip(); } , function(){ tooltipCounter--; checkTooltip(); });
	$('.agario-loggedout-panel').hover(function(){ tooltipCounter++; checkTooltip(); } , function(){ tooltipCounter--; checkTooltip(); });

	var checkTimer = 0;
	function checkTooltip(){
		if (tooltipCounter > 0){
			clearTimeout(checkTimer);
			$('.btn-login-play').tooltip('show');
		} else {
			checkTimer = setTimeout(function(){
				$('.btn-login-play').tooltip('hide');
			}, 200);
		}
	}
});

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-62402209-1', 'auto');
ga('send', 'pageview');
ga('send', 'event', 'HasAdblock', hasAdblock ? 'Yes' : 'No', {'nonInteraction': 1});

//ga('send', 'event', 'Protocol', window.location.protocol, {'nonInteraction': 1});

</script>
<div id="minions" style="position: absolute; top: 10px; left: 10px; padding: 0 8px; font-family: 'Ubuntu'; font-size: 24px; color: #fff; background-color: rgba(0, 0, 0, 0.2);">Minions: <span>waiting</span></div>
<div id="hint" style="position: absolute; top: 50px; left: 10px; padding: 0 8px; font-family: 'Ubuntu'; font-size: 13px; color: #fff; background-color: rgba(0, 0, 0, 0.2);">X - Bot Split * C - Bot Food <br> S - User Feed * D - User Stop</div>
</body>
</html>
